
#!/bin/sh
df -Ph | grep  '/dev/xvda1' | awk '{ print $5,$1 }' | while read output;
do
  echo $output
  used=$(echo $output | awk '{print $1}' | sed s/%//g)
  partition=$(echo $output | awk '{print $2}')
  if [ $used -ge 90 ]; then
  echo "The partition \"$partition\" on $(hostname) has used $used% at $(date)" | mail -s "Disk Space Alert: $used% Used On Diashi-Server" kush210@gmail.com
  fi
done


---------------------

Tested and successfully Run on AWS server
For mail send :
 apt update
 apt install mailutils  -- internet site ---mail.gmail.com
 nano /etc/postfix/main.cf ------ inet_interfaces = loopback-only --- myhostname=mail.example.com
 service postfix restart
test email : echo "This email confirms that Postfix is working" | mail -s "Testing Posfix" emailuser@example.com


mail -s "Some random subject" -a "From: some@domain.com" to@domain.com